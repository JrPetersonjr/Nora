<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nora - Student Helper</title>
  <link rel="icon" href="data:,">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.ckeditor.com/ckeditor5/39.0.0/classic/ckeditor.js"></script>
  <script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=f2084e25b2b14f2d8b4a650fe146faeb"></script>
  <script src="js/utils/purify.min.js"></script>
</head>
<body class="theme-dark">
  <button id="mobile-nav-toggle" class="mobile-nav-toggle" type="button" aria-label="Toggle navigation" aria-controls="sidebar-nav" aria-expanded="false">
    <span class="mobile-nav-icon" aria-hidden="true">‚ò∞</span>
    Menu
  </button>
  <button id="mobile-nav-overlay" class="mobile-nav-overlay" type="button" aria-label="Close navigation"></button>
  <div class="container">
    <!-- Sidebar Navigation -->
    <aside id="sidebar-nav" class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <div class="logo-text">
            <span>Nora</span>
            <span class="logo-tagline">Student Helper</span>
          </div>
        </div>
      </div>

      <nav class="nav">
        <button class="nav-link active" data-section="dashboard">
          <span class="nav-link-icon">üìä</span>
          Dashboard
        </button>
        <button class="nav-link" data-section="editor">
          <span class="nav-link-icon">üìù</span>
          Notes
        </button>
        <button class="nav-link" data-section="grammar">
          <span class="nav-link-icon">‚úì</span>
          Grammar Check
        </button>
        <button class="nav-link" data-section="flashcards">
          <span class="nav-link-icon">üé¥</span>
          Flashcards
        </button>
        <button class="nav-link" data-section="classes">
          <span class="nav-link-icon">üìö</span>
          Classes
        </button>
        <button class="nav-link" data-section="calendar">
          <span class="nav-link-icon">üìÖ</span>
          Calendar
        </button>
        <button class="nav-link" data-section="projects">
          <span class="nav-link-icon">üìã</span>
          Projects
        </button>
        <button class="nav-link" data-section="videos">
          <span class="nav-link-icon">üé•</span>
          Study Videos
        </button>
        <button class="nav-link" data-section="aichat">
          <span class="nav-link-icon">ü§ñ</span>
          Ask AI
        </button>
        <button class="nav-link" data-section="mindmap">
          <span class="nav-link-icon">üß†</span>
          Mind Map & Notes
        </button>
        <button class="nav-link" data-section="focus">
          <span class="nav-link-icon">‚è±Ô∏è</span>
          Focus Timer
        </button>
        <button class="nav-link" data-section="music">
          <span class="nav-link-icon">üéµ</span>
          Study Music
        </button>
        <button class="nav-link" data-section="calculator">
          <span class="nav-link-icon">üßÆ</span>
          Calculator
        </button>
        <button class="nav-link" data-section="search">
          <span class="nav-link-icon">üîé</span>
          Search
        </button>
        <button class="nav-link" data-section="thesaurus">
          <span class="nav-link-icon">üìö</span>
          Thesaurus
        </button>
        <button class="nav-link" data-section="factcheck">
          <span class="nav-link-icon">‚úÖ</span>
          Fact Check
        </button>
        <button class="nav-link" data-section="resources">
          <span class="nav-link-icon">üåê</span>
          Resources
        </button>
        <button class="nav-link" data-section="aiethics">
          <span class="nav-link-icon">‚öñÔ∏è</span>
          AI Ethics
        </button>
        <button class="nav-link" data-section="citation">
          <span class="nav-link-icon">üìñ</span>
          Citations
        </button>
        <button class="nav-link" data-section="settings">
          <span class="nav-link-icon">‚öôÔ∏è</span>
          Settings
        </button>
      </nav>

      <div class="sidebar-footer">
        <div class="info-box">
          <strong>Nora Student Helper</strong><br>
          Your all-in-one study companion
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main">
      <!-- Dashboard Section -->
      <section id="dashboard" class="section active">
        <div class="page-header">
          <h1 class="page-title">Dashboard</h1>
          <p class="page-subtitle">Your study progress at a glance</p>
        </div>

        <div class="grid">
          <div class="stat-card">
            <div class="stat-number" id="stat-notes">0</div>
            <div class="stat-label">Notes Created</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="stat-flashcards">0</div>
            <div class="stat-label">Flashcards</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="stat-classes">0</div>
            <div class="stat-label">Classes</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="stat-checkups">0</div>
            <div class="stat-label">Grammar Checks</div>
          </div>
        </div>

        <div class="card">
          <h3 class="card-title">Recent Activity</h3>
          <p id="dashboard-activity">Start using Nora to see your activity here!</p>
        </div>
      </section>

      <!-- Notes/Editor Section -->
      <section id="editor" class="section">
        <div class="page-header">
          <h1 class="page-title">Notes Editor</h1>
          <p class="page-subtitle">Write and organize your study notes</p>
        </div>

        <div class="card">
          <div class="editor-header">
            <h3 class="card-title no-margin">Your Notes</h3>
            <div id="autosave-status" class="autosave-status">Saved</div>
          </div>
          <div id="editor-content"></div>
          <div class="editor-actions">
            <button id="export-notes-btn" class="btn btn-primary">Export as Text</button>
            <button id="clear-editor-btn" class="btn btn-secondary">Clear All</button>
            <button id="start-voice-btn" class="btn btn-secondary">Voice Input</button>
            <button id="read-aloud-btn" class="btn btn-secondary">Read Aloud</button>
          </div>
        </div>

        <div class="card">
          <h3 class="card-title">Originality Helper</h3>
          <p class="text-muted mb-1">Paste text to run a local originality self-check. This is guidance, not a formal plagiarism score.</p>
          <textarea id="plagiarismText" rows="6" placeholder="Paste text to review, or leave blank to analyze your current note..." class="form-control"></textarea>
          <div class="editor-actions">
            <button id="use-note-for-plagiarism-btn" class="btn btn-secondary">Use Current Note</button>
            <button id="plagiarism-check-btn" class="btn btn-primary">Run Check</button>
            <button id="advanced-plagiarism-btn" class="btn btn-secondary">Advanced Local Check (QuxAT)</button>
            <button id="check-plagiarism-api-btn" class="btn btn-secondary">Check API</button>
          </div>
          <div id="plagiarism-result" class="mt-1-5"></div>
          <p id="plagiarism-api-status" class="text-muted mt-0-5">Advanced API status: checking...</p>
          <p class="text-muted mt-1-5">
            Cross-check with:
            <a href="https://www.quetext.com/" target="_blank" rel="noopener">Quetext</a>,
            <a href="https://plagiarismdetector.net/" target="_blank" rel="noopener">PlagiarismDetector.net</a>,
            <a href="https://www.prepostseo.com/plagiarism-checker" target="_blank" rel="noopener">PrePostSEO</a>
          </p>
        </div>

        <div class="card">
          <h3 class="card-title">AI Writing Likelihood</h3>
          <p class="text-muted mb-1">Estimate whether text appears AI-assisted. Use this as a signal only, not final proof.</p>
          <textarea id="ai-likelihood-text" rows="6" placeholder="Paste text to analyze, or leave blank to use your current note..." class="form-control"></textarea>
          <div class="editor-actions">
            <button id="ai-likelihood-use-note-btn" class="btn btn-secondary">Use Current Note</button>
            <button id="ai-likelihood-check-btn" class="btn btn-primary">Analyze Likelihood</button>
          </div>
          <div id="ai-likelihood-result" class="mt-1-5"></div>
        </div>
      </section>

      <!-- Grammar Check Section -->
      <section id="grammar" class="section">
        <div class="page-header">
          <h1 class="page-title">Grammar Checker</h1>
          <p class="page-subtitle">Check your writing for errors</p>
        </div>

        <div class="card">
          <h3 class="card-title">Enter Your Text</h3>
          <textarea id="grammar-input" rows="8" placeholder="Paste your text here to check for grammar errors..." class="form-control"></textarea>
          <button id="check-grammar-btn" class="btn btn-primary btn-mt">Check Grammar</button>
        </div>
        <div id="grammar-results" class="mt-1-5"></div>
      </section>

      <!-- Flashcards Section -->
      <section id="flashcards" class="section">
        <div class="page-header">
          <h1 class="page-title">Flashcards</h1>
          <p class="page-subtitle">Create and study flashcard sets</p>
        </div>

        <div class="card mb-2">
          <h3 class="card-title">Create New Set</h3>
          <div class="form-group">
            <input type="text" id="flashcard-set-name" placeholder="Set name (e.g., Biology Chapter 5)" class="form-control">
          </div>
          <div class="form-group">
            <input type="text" id="flashcard-course-id" placeholder="Course ID (e.g., bio101)" class="form-control">
          </div>
          <button id="create-flashcard-set-btn" class="btn btn-primary">Create Set</button>
        </div>

        <h3 class="mb-1">Your Flashcard Sets</h3>
        <div id="flashcard-sets"></div>
      </section>

      <!-- Classes Section -->
      <section id="classes" class="section">
        <div class="page-header">
          <h1 class="page-title">My Classes</h1>
          <p class="page-subtitle">Manage your classes and assignments</p>
        </div>

        <div class="card mb-2">
          <h3 class="card-title">Add New Class</h3>
          <div class="form-group">
            <label>Class Name</label>
            <input type="text" id="class-name" placeholder="e.g., Biology 101" class="form-control">
          </div>
          <div class="form-group">
            <label>Instructor</label>
            <input type="text" id="class-instructor" placeholder="e.g., Dr. Smith" class="form-control">
          </div>
          <button id="add-class-btn" class="btn btn-primary">Add Class</button>
        </div>

        <h3 class="mb-1">Your Classes</h3>
        <div id="classes-list"></div>
      </section>

      <!-- Calendar Section -->
      <section id="calendar" class="section">
        <div class="page-header">
          <h1 class="page-title">Assignment Calendar</h1>
          <p class="page-subtitle">View all your upcoming deadlines</p>
        </div>

        <div class="card">
          <div id="calendar-ui"></div>
          <div id="calendar-details" class="calendar-details mt-1-5"></div>
        </div>
      </section>

      <!-- Projects Section -->
      <section id="projects" class="section">
        <div class="page-header">
          <h1 class="page-title">Projects</h1>
          <p class="page-subtitle">Track your major projects and deadlines</p>
        </div>

        <div class="card mb-2">
          <h3 class="card-title">Add New Project</h3>
          <div class="form-group">
            <label>Project Name</label>
            <input type="text" id="project-name" placeholder="e.g., Research Paper" class="form-control">
          </div>
          <div class="form-group">
            <label>Due Date</label>
            <input type="date" id="project-due-date" class="form-control" title="Project Due Date" placeholder="Select due date">
          </div>
          <div class="form-group">
            <label>Priority</label>
            <select id="project-priority" class="form-control" title="Project priority">
              <option value="medium">Medium</option>
              <option value="high">High</option>
              <option value="low">Low</option>
            </select>
          </div>
          <button id="add-project-btn" class="btn btn-primary">Add Project</button>
        </div>

        <h3 class="mb-1">Active Projects</h3>
        <div id="projects-list"></div>
      </section>

      <!-- Study Videos Section -->
      <section id="videos" class="section">
        <div class="page-header">
          <h1 class="page-title">Study Videos</h1>
          <p class="page-subtitle">Search and watch educational content</p>
        </div>

        <div class="card mb-2">
          <h3 class="card-title">Search Videos</h3>
          <div class="video-search-row">
            <input type="text" id="video-search-input" placeholder="Search for study videos..." class="form-control flex-1">
            <button id="video-search-btn" class="btn btn-primary">Search</button>
          </div>
        </div>

        <div id="video-player" class="mb-2"></div>
        <div id="video-results"></div>
      </section>

      <!-- Focus Timer Section -->
      <section id="focus" class="section">
        <div class="page-header">
          <h1 class="page-title">Focus Timer</h1>
          <p class="page-subtitle">Pomodoro technique for better concentration</p>
        </div>

        <div class="card">
          <div class="focus-timer-center">
            <div id="focus-timer-display" class="focus-timer-display">25:00</div>
            <div id="focus-timer-status" class="focus-timer-status">Ready to focus</div>
            <div class="focus-timer-btn-row">
              <button id="focus-timer-start" class="btn btn-primary">Start</button>
              <button id="focus-timer-pause" class="btn btn-secondary">Pause</button>
              <button id="focus-timer-reset" class="btn btn-secondary">Reset</button>
            </div>
            <div class="focus-timer-input-row">
              <div>
                <label class="block mb-0-5">Focus (min)</label>
                <input type="number" id="focus-min" value="25" min="1" max="60" class="focus-timer-input" title="Focus Minutes" placeholder="Enter focus minutes">
              </div>
              <div>
                <label class="block mb-0-5">Break (min)</label>
                <input type="number" id="break-min" value="5" min="1" max="30" class="focus-timer-input" title="Break Minutes" placeholder="Enter break minutes">
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Study Music Section -->
      <section id="music" class="section">
        <div class="page-header">
          <h1 class="page-title">Study Music</h1>
          <p class="page-subtitle">Focus with ambient sounds</p>
        </div>

        <div class="card">
          <h3 class="card-title">Music Player</h3>
          <p class="music-desc mb-1">Choose from curated study playlists</p>
          <select id="music-playlist" class="form-control mb-1" title="Music Playlist">
            <option value="">Select a playlist...</option>
            <option value="lofi">Lo-Fi Hip Hop</option>
            <option value="classical">Classical Focus</option>
            <option value="ambient">Ambient Sounds</option>
            <option value="nature">Nature Sounds</option>
          </select>
          <div style="display:flex;gap:0.5rem;margin-top:0.5rem;">
            <input type="text" id="spotifyUri" placeholder="Spotify track/playlist URI (optional)" class="form-control" />
            <button id="spotifyLoadBtn" class="btn btn-secondary">Load</button>
          </div>

          <div style="margin-top:0.75rem; display:flex; gap:0.5rem; align-items:center;">
            <select id="streamSelect" class="form-control" style="max-width:320px;">
              <option value="">Play open streams...</option>
              <option value="https://icecast.somafm.com/groovesalad">SomaFM Groove Salad</option>
              <option value="https://icecast.somafm.com/lofi-hiphop">SomaFM Lofi Hip Hop</option>
              <option value="https://icecast.somafm.com/lounge">SomaFM Lounge</option>
            </select>
            <button id="playStreamBtn" class="btn btn-primary">Play Stream</button>
            <button id="stopStreamBtn" class="btn btn-secondary">Stop</button>
          </div>

          <div id="music-player-info" class="music-player-info" style="margin-top:0.75rem;">
            <audio id="audioPlayer" controls style="width:100%;display:none;"></audio>
            <div id="spotifyEmbed" style="margin-top:0.5rem;"></div>
          </div>
        </div>
      </section>

      <!-- AI Chat Section (ported from index_new) -->
      <section id="aichat" class="section">
        <div class="page-header">
          <h1 class="page-title">Ask AI</h1>
          <p class="page-subtitle">Ask questions and get thoughtful responses.</p>
        </div>
        <div class="card">
          <div id="chatContainer" style="background: rgba(30, 40, 70, 0.3); border: 1px solid rgba(255, 140, 0, 0.2); border-radius: 8px; padding: 1.5rem; height: 360px; overflow-y: auto; display: flex; flex-direction: column;">
            <div id="chatMessages" style="flex: 1; display:flex; flex-direction:column; gap:1rem;">
              <div style="color: #888; text-align: center; padding: 2rem 1rem;">
                <p>üëã Welcome! Try questions like: "Explain photosynthesis in simple terms."</p>
              </div>
            </div>
          </div>
          <div style="display:flex; gap:0.5rem; margin-top:0.75rem;">
            <input type="text" id="aiQuestion" placeholder="Ask your question..." style="flex:1; padding:0.6rem;" />
            <button id="askAiBtn" class="btn btn-primary">Ask</button>
          </div>
        </div>
      </section>

      <!-- Mind Map & Sticky Notes (ported from index_new) -->
      <section id="mindmap" class="section">
        <div class="page-header">
          <h1 class="page-title">Mind Map & Sticky Notes</h1>
          <p class="page-subtitle">Brainstorm, plan, and organize your ideas visually.</p>
        </div>
        <div class="card mb-2">
          <h3 class="card-title">Mind Map</h3>
          <div id="mindMapContainer" style="background:rgba(30,40,70,0.3); border:1px solid rgba(255,140,0,0.2); border-radius:8px; padding:1.5rem; min-height:240px; margin-bottom:1rem;">
            <button id="addMindNodeBtn" class="btn btn-secondary" style="margin-bottom:0.75rem;">Add Node</button>
            <div id="mindMapNodes" style="display:flex; flex-wrap:wrap; gap:1rem;"></div>
          </div>

          <h3 class="card-title">Sticky Notes</h3>
          <div id="stickyNotesContainer" style="background:rgba(30,40,70,0.2); border:1px solid rgba(255,140,0,0.1); border-radius:8px; padding:1.5rem;">
            <button id="addStickyNoteBtn" class="btn btn-secondary" style="margin-bottom:0.75rem;">Add Note</button>
            <div id="stickyNotes" style="display:flex; flex-wrap:wrap; gap:1rem;"></div>
          </div>
        </div>
      </section>
      <!-- Calculator Section -->
      <section id="calculator" class="section">
        <div class="page-header">
          <h1 class="page-title">Graphing Calculator</h1>
          <p class="page-subtitle">Interactive graphing for equations, sliders, and visual math</p>
        </div>

        <div class="card">
          <div id="graphCalc" class="graph-calc" aria-label="Desmos graphing calculator"></div>
          <p id="calcResult" class="calc-result text-muted"></p>
        </div>
      </section>

      <!-- Search Section -->
      <section id="search" class="section">
        <div class="page-header">
          <h1 class="page-title">Search</h1>
          <p class="page-subtitle">Find information and evaluate sources critically</p>
        </div>
        <div class="card">
          <h3 class="card-title">Web Search</h3>
          <form id="searchForm" action="https://www.google.com/search" method="get" target="_blank" rel="noopener">
            <div class="video-search-row">
              <input type="text" id="searchInput" name="q" placeholder="Search the web..." class="form-control flex-1">
              <button type="submit" class="btn btn-primary">Search</button>
            </div>
          </form>
          <p class="text-muted mt-1-5">Tip: cross-check claims with academic, government, or primary sources.</p>
        </div>
      </section>

      <!-- Thesaurus Section -->
      <section id="thesaurus" class="section">
        <div class="page-header">
          <h1 class="page-title">Thesaurus</h1>
          <p class="page-subtitle">Find synonyms to improve your writing</p>
        </div>
        <div class="card">
          <h3 class="card-title">Find Synonyms</h3>
          <div class="video-search-row">
            <input type="text" id="wordInput" placeholder="Enter a word..." class="form-control flex-1">
            <button id="find-synonyms-btn" class="btn btn-primary">Find</button>
          </div>
          <div id="thesaurusResult" class="mt-1-5"></div>
        </div>
      </section>

      <!-- Fact Check Section -->
      <section id="factcheck" class="section">
        <div class="page-header">
          <h1 class="page-title">Fact Check</h1>
          <p class="page-subtitle">Verify claims with trusted fact-checking sources</p>
        </div>
        <div class="card">
          <h3 class="card-title">Check a Claim</h3>
          <div class="video-search-row">
            <input type="text" id="factInput" placeholder="Enter a statement to verify..." class="form-control flex-1">
            <button id="fact-check-btn" class="btn btn-primary">Check</button>
          </div>
          <div id="factCheckResult" class="mt-1-5"></div>
        </div>
      </section>

      <!-- Citation Generator Section -->
      <section id="citation" class="section">
        <div class="page-header">
          <h1 class="page-title">Citation Generator</h1>
          <p class="page-subtitle">Generate proper citations for your papers</p>
        </div>

        <div class="card">
          <div class="form-group">
            <label>Source Details</label>
            <input type="text" id="citeInput" placeholder="Author, Title, Year, Publisher" class="form-control">
            <p class="cite-desc mt-0-5">Format: Author, Title, Year, Publisher (comma-separated)</p>
          </div>
          <div class="form-group">
            <label>Citation Style</label>
            <select id="citeStyle" class="form-control" title="Citation Style">
              <option value="apa">APA</option>
              <option value="mla">MLA</option>
            </select>
          </div>
          <button id="generate-citation-btn" class="btn btn-primary">Generate Citation</button>
          <div id="citationResult" class="mt-1-5"></div>
        </div>
      </section>

      <!-- Resources Section -->
      <section id="resources" class="section">
        <div class="page-header">
          <h1 class="page-title">Educational Resources</h1>
          <p class="page-subtitle">Curated links for learning and research</p>
        </div>
        <div class="card">
          <h3 class="card-title">Learning Platforms</h3>
          <ul>
            <li><a href="https://www.khanacademy.org/" target="_blank" rel="noopener">Khan Academy</a> - Free courses across subjects</li>
            <li><a href="https://openstax.org/" target="_blank" rel="noopener">OpenStax</a> - Free peer-reviewed textbooks</li>
            <li><a href="https://www.coursera.org/" target="_blank" rel="noopener">Coursera</a> - University-level online courses</li>
            <li><a href="https://www.pbslearningmedia.org/" target="_blank" rel="noopener">PBS LearningMedia</a> - Classroom-ready learning content</li>
            <li><a href="https://scholar.google.com/" target="_blank" rel="noopener">Google Scholar</a> - Scholarly literature search</li>
          </ul>
        </div>
      </section>

      <!-- AI Ethics Section -->
      <section id="aiethics" class="section">
        <div class="page-header">
          <h1 class="page-title">Using AI Responsibly</h1>
          <p class="page-subtitle">Guidelines for ethical and effective AI use in schoolwork</p>
        </div>
        <div class="card">
          <ul>
            <li>Use AI to understand concepts, not to submit generated work as your own.</li>
            <li>Verify AI outputs against reliable sources before using them.</li>
            <li>Cite AI assistance when your class or institution requires disclosure.</li>
            <li>Follow your school‚Äôs academic integrity and AI usage policy.</li>
            <li>Prioritize learning and original thinking over fast completion.</li>
          </ul>
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settings" class="section">
        <div class="page-header">
          <h1 class="page-title">Settings</h1>
          <p class="page-subtitle">Customize your experience</p>
        </div>

        <div class="card">
          <h3 class="card-title">User Preferences</h3>
          <div class="form-group">
            <label>Your Name</label>
            <input type="text" id="userName" placeholder="Enter your name" class="form-control">
          </div>
          <div class="form-group">
            <label>YouTube API Key (for video search)</label>
            <input type="text" id="youtubeApiKey" placeholder="Enter your API key" class="form-control">
            <p class="settings-desc mt-0-5">
              Get your free API key at <a href="https://console.developers.google.com/" target="_blank" rel="noopener">Google Cloud Console</a>
            </p>
          </div>
          <div class="form-group">
            <label>Access API Prompt</label>
            <input type="password" id="apiAccessPrompt" placeholder="Type unlock phrase (example: :Gemini33)" class="form-control">
            <div style="display:flex;gap:0.5rem;align-items:center;margin-top:0.5rem;flex-wrap:wrap;">
              <button id="unlock-api-btn" type="button" class="btn btn-secondary btn-small">Unlock API Keys</button>
              <span id="api-lock-status" class="text-muted">API keys are locked</span>
            </div>
          </div>
          <div class="form-group">
            <label>Local API Proxy URL (recommended)</label>
            <input type="text" id="apiProxyUrl" placeholder="http://127.0.0.1:8787" class="form-control">
            <p class="settings-desc mt-0-5">If set, Ask AI and Study Videos use local Python proxy (keys stay off frontend).</p>
          </div>
          <div class="form-group">
            <label>Local Plagiarism API URL</label>
            <input type="text" id="plagiarismApiUrl" placeholder="http://127.0.0.1:8765" class="form-control">
            <p class="settings-desc mt-0-5">Used by Advanced Local Check (QuxAT) on the Notes page.</p>
          </div>
          <div class="form-group">
            <label>AI API Key (optional)</label>
            <input type="password" id="aiApiKey" placeholder="Enter model API key" class="form-control">
            <p class="settings-desc mt-0-5">Used by Ask AI. If blank, Ask AI uses local fallback responses.</p>
          </div>
          <div class="form-group">
            <label>AI Model</label>
            <input type="text" id="aiModel" placeholder="gemini-1.5-flash" class="form-control">
          </div>
          <div class="form-group">
            <label>AI API Base URL</label>
            <input type="text" id="aiApiBaseUrl" placeholder="https://api.openai.com/v1" class="form-control">
          </div>
          <div class="form-group">
            <label>Theme</label>
            <select id="themeSelect" class="form-control" title="Theme selection">
              <option value="dark">Dark (recommended)</option>
              <option value="light">Light</option>
            </select>
          </div>
          <button id="save-settings-btn" class="btn btn-primary">Save Settings</button>
          <hr class="settings-hr">
          <h3 class="card-title">Data Management</h3>
          <p class="settings-data-desc mb-1">Manage your stored data</p>
          <button id="export-data-btn" class="btn btn-secondary">Export All Data</button>
          <button id="import-data-btn" class="btn btn-secondary ml-1">Import Data</button>
          <button id="clear-data-btn" class="btn btn-danger ml-1">Clear All Data</button>
          <input type="file" id="import-data-file" accept=".json,application/json" class="hidden">
        </div>
      </section>
    </main>
  </div>
  <script src="js/utils/storage.js"></script>
  <script src="js/utils/validators.js"></script>
  <script src="js/utils/errorHandler.js"></script>
  <script src="js/modules/editor.js"></script>
  <script src="js/modules/grammar.js"></script>
  <script src="js/modules/flashcards.js"></script>
  <script src="js/modules/classes.js"></script>
  <script src="js/app.extras.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
